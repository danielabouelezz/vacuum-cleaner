#VRML_SIM R2021b utf8
WorldInfo {
  coordinateSystem "NUE"
}
Viewpoint {
  orientation 0.5189698488802449 -0.7198669398226129 -0.46093587938415337 4.456625744247677
  position 2.057750720428169 4.0221460697123685 0.960862798464255
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  translation 0 0 0.13
  floorSize 7 7
  floorAppearance Parquetry {
    type "light strip"
  }
  wallHeight 1
}
DEF base_link Robot {
  translation 0 0 0.16
  children [
    DEF JOINT_1 HingeJoint {
      jointParameters HingeJointParameters {
        position 1.4290692506506374e-09
        axis 0 1 0
      }
      device [
        PositionSensor {
          name "joint_1_sensor"
        }
        RotationalMotor {
          name "joint_1_motor"
          minPosition -6
          maxPosition 6
        }
      ]
      endPoint DEF LINK_1 Solid {
        children [
          DEF SEGMENT_1 Transform {
            children [
              DEF ARM_SEGMENT Shape {
                appearance DEF ARM_SEGMENTS PBRAppearance {
                  baseColor 0.239216 0.239216 0.239216
                  roughness 0.5
                }
                geometry Capsule {
                  height 0.063
                  radius 0.0225
                }
              }
            ]
          }
          DEF JOINT_2 HingeJoint {
            jointParameters HingeJointParameters {
              position 8.053160697793836e-10
              anchor 0 0.04 0
            }
            device [
              PositionSensor {
                name "joint_2_sensor"
              }
              RotationalMotor {
                name "joint_2_motor"
                minPosition -6
                maxPosition 6
              }
            ]
            endPoint DEF LINK_2 Solid {
              translation 0 0.04 0
              rotation 1 0 0 0
              children [
                DEF SEGMENT_2 Transform {
                  translation 0 0.168 0
                  children [
                    Shape {
                      appearance USE ARM_SEGMENTS
                      geometry Capsule {
                        height 0.336
                        radius 0.0225
                      }
                    }
                  ]
                }
                DEF JOINT_3 HingeJoint {
                  jointParameters HingeJointParameters {
                    position 3.838433102250113e-10
                    anchor 0 0.324 0
                  }
                  device [
                    PositionSensor {
                      name "joint_3_sensor"
                    }
                    RotationalMotor {
                      name "joint_3_motor"
                      minPosition -6
                      maxPosition 6
                    }
                  ]
                  endPoint DEF LINK_3 Solid {
                    translation 0 0.324 0
                    rotation 1 0 0 0
                    children [
                      DEF SEGMENT_3 Transform {
                        translation 0 0.161 0
                        children [
                          Shape {
                            appearance USE ARM_SEGMENTS
                            geometry Capsule {
                              height 0.334
                              radius 0.0225
                            }
                          }
                        ]
                      }
                      DEF JOINT_4 HingeJoint {
                        jointParameters HingeJointParameters {
                          position 2.1890741864665208e-10
                          axis 0 1 0
                          anchor 0 0.324 0
                        }
                        device [
                          PositionSensor {
                            name "joint_4_sensor"
                          }
                          RotationalMotor {
                            name "joint_4_motor"
                            minPosition -6
                            maxPosition 6
                          }
                        ]
                        endPoint DEF LINK_4 Solid {
                          translation 0 0.324 0
                          children [
                            DEF SEGMENT_4 Transform {
                              translation 0 0.01 0
                              children [
                                Shape {
                                  appearance USE ARM_SEGMENTS
                                  geometry Capsule {
                                    height 0.04
                                    radius 0.0225
                                  }
                                }
                              ]
                            }
                            DEF JOINT_5 HingeJoint {
                              jointParameters HingeJointParameters {
                                anchor 0 0.03 0
                              }
                              device [
                                PositionSensor {
                                  name "joint_5_sensor"
                                }
                                RotationalMotor {
                                  name "joint_5_motor"
                                  minPosition -6
                                  maxPosition 6
                                }
                              ]
                              endPoint DEF LINK_5 Solid {
                                translation 0 0.04 3.8788632211110245e-19
                                rotation 1 0 0 0
                                children [
                                  DEF SEGMENT_5 Transform {
                                    translation 0 0.01 0
                                    children [
                                      Shape {
                                        appearance USE ARM_SEGMENTS
                                        geometry Capsule {
                                          height 0.04
                                          radius 0.0225
                                        }
                                      }
                                    ]
                                  }
                                  DEF JOINT_6 HingeJoint {
                                    jointParameters HingeJointParameters {
                                      position 1.4313907709711759e-11
                                      axis 0 1 0
                                      anchor 0 0.03 0
                                    }
                                    device [
                                      PositionSensor {
                                        name "joint_6_sensor"
                                      }
                                      RotationalMotor {
                                        name "joint_6_motor"
                                        minPosition -6
                                        maxPosition 6
                                      }
                                    ]
                                    endPoint DEF LINK_6 Solid {
                                      translation 1.3409920598584683e-21 0.08500000000000008 5.5108542142653695e-12
                                      children [
                                        DEF end_effector Solid {
                                          translation 0 0.01 0
                                        }
                                        DEF CONNECTOR Transform {
                                          translation 0 -0.03 0
                                          children [
                                            Shape {
                                              appearance DEF ARM_SEGMENTS PBRAppearance {
                                                baseColor 0.239216 0.239216 0.239216
                                                roughness 0.5
                                              }
                                              geometry Capsule {
                                                height 0.032
                                                radius 0.0225
                                              }
                                            }
                                          ]
                                        }
                                        DEF NOZZLE Transform {
                                          children [
                                            Shape {
                                              appearance DEF ARM_SEGMENTS PBRAppearance {
                                                baseColor 0.239216 0.239216 0.239216
                                                roughness 0.5
                                              }
                                              geometry Box {
                                                size 0.25 0.02 0.06
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                      name "LINK_6"
                                      boundingObject Group {
                                        children [
                                          USE NOZZLE
                                          USE CONNECTOR
                                        ]
                                      }
                                      physics Physics {
                                        density 300
                                      }
                                    }
                                  }
                                ]
                                name "LINK_5"
                                boundingObject USE SEGMENT_5
                                physics Physics {
                                  density 300
                                }
                              }
                            }
                          ]
                          name "LINK_4"
                          boundingObject USE SEGMENT_4
                          physics Physics {
                            density 300
                          }
                        }
                      }
                    ]
                    name "LINK_3"
                    boundingObject USE SEGMENT_3
                    physics Physics {
                      density 300
                    }
                  }
                }
              ]
              name "LINK_2"
              boundingObject USE SEGMENT_2
              physics Physics {
                density 300
              }
            }
          }
        ]
        name "LINK_1"
        boundingObject USE SEGMENT_1
        physics Physics {
          density 300
        }
      }
    }
  ]
  name "base_link"
  controller "inverse_kinematics_pyikfast"
  supervisor TRUE
}
Sofa {
  translation 1.09082e-05 0 2.97
  rotation 0 1 0 1.5708
}
Armchair {
  translation -2.91 0 0
}
Robot {
  translation 1.25994 0.0742738 -0.521661
  rotation 0.9999999999999996 3.067484346630399e-08 -4.012567519909193e-12 0.0002518455759216964
  children [
    DEF BODY_Transform Transform {
      children [
        DEF BODY_BOX Shape {
          appearance PBRAppearance {
            baseColor 0.917647 0.145098 0.145098
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.31 0.15 0.35
          }
        }
        DEF BODY_CYLINDER Transform {
          translation 0 0 0.2
          scale 3.1 1.5 3.1
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.917647 0.145098 0.145098
                roughness 1
                metalness 0
              }
              geometry Cylinder {
                height 0.1
                radius 0.05
              }
            }
          ]
        }
        DEF BODY_TOP_BOX Transform {
          translation 0 0.09 -0.12
          scale 3 0.3 1
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
        DEF BODY_TOP_BOX2 Transform {
          translation 0 0.09 0
          scale 2 0.25 1
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
        DEF BODY_TOP_BOX3 Transform {
          translation 0 0.085 0.1
          scale 1 0.2 0.75
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
      ]
    }
    Camera {
      translation -9.28752e-07 0 0.35
      rotation 0 1 0 3.14159
      children [
        Shape {
        }
      ]
      width 640
      height 640
      recognition Recognition {
      }
    }
    DEF DS_RIGHT DistanceSensor {
      translation -0.07 0 0.34
      rotation 0 1 0 -2.094395307179586
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.184314 0.596078 0.847059
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "ds_right"
    }
    DEF DS_LEFT DistanceSensor {
      translation 0.07 0 0.34
      rotation 0 1 0 -1.0089953071795863
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.184314 0.596078 0.847059
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "ds_left"
    }
    DEF ARM Transform {
      translation 0 0.075 0.3
      children [
        DEF JOINT_1 HingeJoint {
          jointParameters HingeJointParameters {
            position -1.3841532364722298e-09
            axis 0 1 0
          }
          device [
            PositionSensor {
              name "joint_1_sensor"
            }
            RotationalMotor {
              name "joint_1_motor"
              minPosition -6
              maxPosition 6
            }
          ]
          endPoint DEF LINK_1 Solid {
            children [
              DEF SEGMENT_1 Transform {
                children [
                  DEF ARM_SEGMENT Shape {
                    appearance DEF ARM_SEGMENTS PBRAppearance {
                      baseColor 0.239216 0.239216 0.239216
                      roughness 0.5
                    }
                    geometry Capsule {
                      height 0.063
                      radius 0.0225
                    }
                  }
                ]
              }
              DEF JOINT_2 HingeJoint {
                jointParameters HingeJointParameters {
                  position 7.943724361705744e-10
                  anchor 0 0.04 0
                }
                device [
                  PositionSensor {
                    name "joint_2_sensor"
                  }
                  RotationalMotor {
                    name "joint_2_motor"
                    minPosition -6
                    maxPosition 6
                  }
                ]
                endPoint DEF LINK_2 Solid {
                  translation 0 0.04 0
                  rotation 1 0 0 0
                  children [
                    DEF SEGMENT_2 Transform {
                      translation 0 0.168 0
                      children [
                        Shape {
                          appearance USE ARM_SEGMENTS
                          geometry Capsule {
                            height 0.336
                            radius 0.0225
                          }
                        }
                      ]
                    }
                    DEF JOINT_3 HingeJoint {
                      jointParameters HingeJointParameters {
                        position 3.7787167856264506e-10
                        anchor 0 0.324 0
                      }
                      device [
                        PositionSensor {
                          name "joint_3_sensor"
                        }
                        RotationalMotor {
                          name "joint_3_motor"
                          minPosition -6
                          maxPosition 6
                        }
                      ]
                      endPoint DEF LINK_3 Solid {
                        translation 0 0.324 0
                        rotation 1 0 0 0
                        children [
                          DEF SEGMENT_3 Transform {
                            translation 0 0.087 0
                            children [
                              Shape {
                                appearance USE ARM_SEGMENTS
                                geometry Capsule {
                                  height 0.186
                                  radius 0.0225
                                }
                              }
                            ]
                          }
                          DEF JOINT_4 HingeJoint {
                            jointParameters HingeJointParameters {
                              position 2.1529069598143975e-10
                              anchor 0 0.174 0
                            }
                            device [
                              PositionSensor {
                                name "joint_4_sensor"
                              }
                              RotationalMotor {
                                name "joint_4_motor"
                                minPosition -6
                                maxPosition 6
                              }
                            ]
                            endPoint DEF LINK_4 Solid {
                              translation 0 0.174 0
                              rotation 1 0 0 0
                              children [
                                DEF SEGMENT_4 Transform {
                                  translation 0 0.161 0
                                  children [
                                    Shape {
                                      appearance USE ARM_SEGMENTS
                                      geometry Capsule {
                                        height 0.334
                                        radius 0.0225
                                      }
                                    }
                                  ]
                                }
                                DEF JOINT_5 HingeJoint {
                                  jointParameters HingeJointParameters {
                                    position -3.847588124322398e-11
                                    axis 0 1 0
                                    anchor 0 0.324 0
                                  }
                                  device [
                                    PositionSensor {
                                      name "joint_5_sensor"
                                    }
                                    RotationalMotor {
                                      name "joint_5_motor"
                                      minPosition -6
                                      maxPosition 6
                                    }
                                  ]
                                  endPoint DEF LINK_5 Solid {
                                    translation 0 0.324 0
                                    children [
                                      DEF SEGMENT_5 Transform {
                                        translation 0 0.01 0
                                        children [
                                          Shape {
                                            appearance USE ARM_SEGMENTS
                                            geometry Capsule {
                                              height 0.04
                                              radius 0.0225
                                            }
                                          }
                                        ]
                                      }
                                      DEF JOINT_6 HingeJoint {
                                        jointParameters HingeJointParameters {
                                          position 1.4054222975636354e-11
                                          anchor 0 0.03 0
                                        }
                                        device [
                                          PositionSensor {
                                            name "joint_6_sensor"
                                          }
                                          RotationalMotor {
                                            name "joint_6_motor"
                                            minPosition -6
                                            maxPosition 6
                                          }
                                        ]
                                        endPoint DEF LINK_6 Solid {
                                          translation 0 0.085 1.3913803538176298e-11
                                          rotation 1 0 0 0
                                          children [
                                            DEF CONNECTOR Transform {
                                              translation 0 -0.03 0
                                              children [
                                                Shape {
                                                  appearance DEF ARM_SEGMENTS PBRAppearance {
                                                    baseColor 0.239216 0.239216 0.239216
                                                    roughness 0.5
                                                  }
                                                  geometry Capsule {
                                                    height 0.032
                                                    radius 0.0225
                                                  }
                                                }
                                              ]
                                            }
                                            DEF NOZZLE Transform {
                                              children [
                                                Shape {
                                                  appearance DEF ARM_SEGMENTS PBRAppearance {
                                                    baseColor 0.239216 0.239216 0.239216
                                                    roughness 0.5
                                                  }
                                                  geometry Box {
                                                    size 0.25 0.02 0.06
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                          name "LINK_6"
                                          boundingObject Group {
                                            children [
                                              USE NOZZLE
                                              USE CONNECTOR
                                            ]
                                          }
                                          physics Physics {
                                            density 300
                                          }
                                        }
                                      }
                                    ]
                                    name "LINK_5"
                                    boundingObject USE SEGMENT_5
                                    physics Physics {
                                      density 300
                                    }
                                  }
                                }
                              ]
                              name "LINK_4"
                              boundingObject USE SEGMENT_4
                              physics Physics {
                                density 300
                              }
                            }
                          }
                        ]
                        name "LINK_3"
                        boundingObject USE SEGMENT_3
                        physics Physics {
                          density 300
                        }
                      }
                    }
                  ]
                  name "LINK_2"
                  boundingObject USE SEGMENT_2
                  physics Physics {
                    density 300
                  }
                }
              }
            ]
            name "LINK_1"
            boundingObject USE SEGMENT_1
            physics Physics {
              density 300
            }
          }
        }
      ]
    }
  ]
  boundingObject Group {
    children [
      USE BODY_CYLINDER
      USE BODY_BOX
    ]
  }
  physics Physics {
    density -1
    mass 5
  }
  controller ""
  supervisor TRUE
}
DEF TARGET Solid {
  translation -0.11 0.13 0.65
  rotation 0.5773519358512958 -0.5773469358518515 -0.5773519358512958 2.0944
  scale 0.4 0.4 0.4
  children [
    Shape {
      appearance PBRAppearance {
        baseColorMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        roughnessMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        metalnessMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        emissiveColorMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        textureTransform TextureTransform {
          scale 2 1
        }
      }
      geometry Sphere {
        radius 0.1
        subdivision 2
      }
    }
  ]
}
