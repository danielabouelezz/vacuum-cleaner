#VRML_SIM R2021a utf8
WorldInfo {
  coordinateSystem "NUE"
}
Viewpoint {
  orientation 0.3226371520205115 -0.9043451623936775 -0.27940131601559554 4.679367562608433
  position 3.4325537260087358 2.0790023573287093 1.2704328658567796
}
TexturedBackground {
}
TexturedBackgroundLight {
}
RectangleArena {
  translation 0 0 0.13
  floorSize 7 7
  floorAppearance Parquetry {
    type "light strip"
  }
  wallHeight 1
}
Sofa {
  translation 1.09082e-05 0 2.97
  rotation 0 1 0 1.5708
}
Armchair {
  translation -2.91 0 0
}
Robot {
  translation 1.25994 0.096 0.89832
  rotation -1 0 0 0
  children [
    DEF BODY_Transform Transform {
      children [
        DEF BODY_BOX Shape {
          appearance PBRAppearance {
            baseColor 0.917647 0.145098 0.145098
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.31 0.15 0.35
          }
        }
        DEF BODY_CYLINDER Transform {
          translation 0 0 0.2
          scale 3.1 1.5 3.1
          children [
            Shape {
              appearance PBRAppearance {
                baseColor 0.917647 0.145098 0.145098
                roughness 1
                metalness 0
              }
              geometry Cylinder {
                height 0.1
                radius 0.05
              }
            }
          ]
        }
        DEF BODY_TOP_BOX Transform {
          translation 0 0.09 -0.12
          scale 3 0.3 1
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
        DEF BODY_TOP_BOX2 Transform {
          translation 0 0.09 0
          scale 2 0.25 1
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
        DEF BODY_TOP_BOX3 Transform {
          translation 0 0.085 0.1
          scale 1 0.2 0.75
          children [
            Shape {
              appearance PBRAppearance {
              }
              geometry Box {
                size 0.1 0.1 0.1
              }
            }
          ]
        }
      ]
    }
    Camera {
      translation -9.28752e-07 0 0.35
      rotation 0 1 0 3.14159
      children [
        Shape {
        }
      ]
      width 640
      height 640
      recognition Recognition {
      }
    }
    DEF DS_RIGHT DistanceSensor {
      translation -0.07 0 0.34
      rotation 0 1 0 -2.094395307179586
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.184314 0.596078 0.847059
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "ds_right"
    }
    DEF DS_LEFT DistanceSensor {
      translation 0.07 0 0.34
      rotation 0 1 0 -1.0089953071795863
      children [
        Shape {
          appearance PBRAppearance {
            baseColor 0.184314 0.596078 0.847059
            roughness 1
            metalness 0
          }
          geometry Box {
            size 0.01 0.01 0.01
          }
        }
      ]
      name "ds_left"
    }
    DEF ARM Transform {
      translation 0 0.075 0.3
      children [
        DEF JOINT_1 HingeJoint {
          jointParameters HingeJointParameters {
            axis 0 1 0
          }
          device [
            PositionSensor {
              name "joint_1_sensor"
            }
            RotationalMotor {
              name "joint_1_motor"
              minPosition -6
              maxPosition 6
            }
          ]
          endPoint DEF LINK_1 Solid {
            children [
              DEF SEGMENT_1 Transform {
                children [
                  DEF ARM_SEGMENT Shape {
                    appearance DEF ARM_SEGMENTS PBRAppearance {
                      baseColor 0.239216 0.239216 0.239216
                      roughness 0.5
                    }
                    geometry Capsule {
                      height 0.063
                      radius 0.0225
                    }
                  }
                ]
              }
              DEF JOINT_2 HingeJoint {
                jointParameters HingeJointParameters {
                  anchor 0 0.04 0
                }
                device [
                  PositionSensor {
                    name "joint_2_sensor"
                  }
                  RotationalMotor {
                    name "joint_2_motor"
                    minPosition -6
                    maxPosition 6
                  }
                ]
                endPoint DEF LINK_2 Solid {
                  translation 0 0.04 0
                  rotation 1 0 0 0
                  children [
                    DEF SEGMENT_2 Transform {
                      translation 0 0.168 0
                      children [
                        Shape {
                          appearance USE ARM_SEGMENTS
                          geometry Capsule {
                            height 0.336
                            radius 0.0225
                          }
                        }
                      ]
                    }
                    DEF JOINT_3 HingeJoint {
                      jointParameters HingeJointParameters {
                        anchor 0 0.324 0
                      }
                      device [
                        PositionSensor {
                          name "joint_3_sensor"
                        }
                        RotationalMotor {
                          name "joint_3_motor"
                          minPosition -6
                          maxPosition 6
                        }
                      ]
                      endPoint DEF LINK_3 Solid {
                        translation 0 0.324 0
                        rotation 1 0 0 0
                        children [
                          DEF SEGMENT_3 Transform {
                            translation 0 0.087 0
                            children [
                              Shape {
                                appearance USE ARM_SEGMENTS
                                geometry Capsule {
                                  height 0.186
                                  radius 0.0225
                                }
                              }
                            ]
                          }
                          DEF JOINT_4 HingeJoint {
                            jointParameters HingeJointParameters {
                              anchor 0 0.174 0
                            }
                            device [
                              PositionSensor {
                                name "joint_4_sensor"
                              }
                              RotationalMotor {
                                name "joint_4_motor"
                                minPosition -6
                                maxPosition 6
                              }
                            ]
                            endPoint DEF LINK_4 Solid {
                              translation 0 0.174 0
                              rotation 1 0 0 0
                              children [
                                DEF SEGMENT_4 Transform {
                                  translation 0 0.161 0
                                  children [
                                    Shape {
                                      appearance USE ARM_SEGMENTS
                                      geometry Capsule {
                                        height 0.334
                                        radius 0.0225
                                      }
                                    }
                                  ]
                                }
                                DEF JOINT_5 HingeJoint {
                                  jointParameters HingeJointParameters {
                                    axis 0 1 0
                                    anchor 0 0.324 0
                                  }
                                  device [
                                    PositionSensor {
                                      name "joint_5_sensor"
                                    }
                                    RotationalMotor {
                                      name "joint_5_motor"
                                      minPosition -6
                                      maxPosition 6
                                    }
                                  ]
                                  endPoint DEF LINK_5 Solid {
                                    translation 0 0.324 0
                                    children [
                                      DEF SEGMENT_5 Transform {
                                        translation 0 0.01 0
                                        children [
                                          Shape {
                                            appearance USE ARM_SEGMENTS
                                            geometry Capsule {
                                              height 0.04
                                              radius 0.0225
                                            }
                                          }
                                        ]
                                      }
                                      DEF JOINT_6 HingeJoint {
                                        jointParameters HingeJointParameters {
                                          anchor 0 0.03 0
                                        }
                                        device [
                                          PositionSensor {
                                            name "joint_6_sensor"
                                          }
                                          RotationalMotor {
                                            name "joint_6_motor"
                                            minPosition -6
                                            maxPosition 6
                                          }
                                        ]
                                        endPoint DEF LINK_6 Solid {
                                          translation 0 0.085 0
                                          rotation 1 0 0 0
                                          children [
                                            DEF CONNECTOR Transform {
                                              translation 0 -0.03 0
                                              children [
                                                Shape {
                                                  appearance DEF ARM_SEGMENTS PBRAppearance {
                                                    baseColor 0.239216 0.239216 0.239216
                                                    roughness 0.5
                                                  }
                                                  geometry Capsule {
                                                    height 0.032
                                                    radius 0.0225
                                                  }
                                                }
                                              ]
                                            }
                                            DEF NOZZLE Transform {
                                              children [
                                                Shape {
                                                  appearance DEF ARM_SEGMENTS PBRAppearance {
                                                    baseColor 0.239216 0.239216 0.239216
                                                    roughness 0.5
                                                  }
                                                  geometry Box {
                                                    size 0.25 0.02 0.06
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                          name "LINK_6"
                                          boundingObject Group {
                                            children [
                                              USE NOZZLE
                                              USE CONNECTOR
                                            ]
                                          }
                                          physics Physics {
                                            density 300
                                          }
                                        }
                                      }
                                    ]
                                    name "LINK_5"
                                    boundingObject USE SEGMENT_5
                                    physics Physics {
                                      density 300
                                    }
                                  }
                                }
                              ]
                              name "LINK_4"
                              boundingObject USE SEGMENT_4
                              physics Physics {
                                density 300
                              }
                            }
                          }
                        ]
                        name "LINK_3"
                        boundingObject USE SEGMENT_3
                        physics Physics {
                          density 300
                        }
                      }
                    }
                  ]
                  name "LINK_2"
                  boundingObject USE SEGMENT_2
                  physics Physics {
                    density 300
                  }
                }
              }
            ]
            name "LINK_1"
            boundingObject USE SEGMENT_1
            physics Physics {
              density 300
            }
          }
        }
      ]
    }
  ]
  boundingObject Group {
    children [
      USE BODY_CYLINDER
      USE BODY_BOX
    ]
  }
  physics Physics {
    density -1
    mass 5
  }
  controller "generic_inverse_kinematic"
  supervisor TRUE
}
DEF TARGET Solid {
  translation 1.37 0.13 1.68
  rotation 0.5773519358512958 -0.5773469358518515 -0.5773519358512958 2.0944
  scale 0.4 0.4 0.4
  children [
    Shape {
      appearance PBRAppearance {
        baseColorMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        roughnessMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        metalnessMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        emissiveColorMap ImageTexture {
          url [
            "textures/target.png"
          ]
        }
        textureTransform TextureTransform {
          scale 2 1
        }
      }
      geometry Sphere {
        radius 0.1
        subdivision 2
      }
    }
  ]
}
